(function(e){function t(t){for(var r,a,c=t[0],s=t[1],l=t[2],f=0,d=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],r=!0,c=1;c<i.length;c++){var s=i[c];0!==n[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var r={},n={app:0},o=[];function a(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=r,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-diet/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",{staticClass:"grey"},[i("v-card",{class:["mx-auto",{"mt-5":e.bp.smAndUp,"flex-grow-1":e.bp.xs}],attrs:{width:"400",raised:"",flat:e.bp.xs}},[i("v-card-title",{staticClass:"pb-0"},[i("h2",[e._v("数据表")])]),i("v-card-text",[i("v-text-field",{attrs:{label:"体重","prepend-icon":"mdi-nature-people",type:"number",suffix:"kg"},model:{value:e.weight,callback:function(t){e.weight=t},expression:"weight"}}),i("v-slider",{attrs:{"prepend-icon":"mdi-human-handsup",min:"28",max:"34",step:2,label:"运动系数: "+e.activityMutiplier,"inverse-label":"","thumb-label":"",ticks:"always",hint:e.activityDescription,"persistent-hint":""},model:{value:e.activityMutiplier,callback:function(t){e.activityMutiplier=t},expression:"activityMutiplier"}}),i("v-slider",{attrs:{"prepend-icon":"mdi-alien",min:"0",max:"30",label:"减肥速率: "+e.dietRatio+"%","inverse-label":""},model:{value:e.dietRatio,callback:function(t){e.dietRatio=t},expression:"dietRatio"}}),i("div",[e._v("每日可摄取："+e._s(e.caloriesDaily.toFixed())+" 千卡")]),i("div",[e._v(" 热量盈余："),i("span",{class:e.caloriesSurplus>0?"green--text":"red--text"},[e._v(e._s(e.caloriesSurplus.toFixed(2))+" 千卡")])])],1),i("v-divider"),i("v-card-actions",[i("v-btn",{attrs:{color:"success",disabled:!e.food.name||!e.food.calories},on:{click:function(t){return e.eat(e.food)}}},[e._v("摄入")]),i("v-text-field",{staticClass:"ml-2",attrs:{"prepend-inner-icon":"mdi-baguette",label:"食物"},model:{value:e.food.name,callback:function(t){e.$set(e.food,"name",t)},expression:"food.name"}}),i("v-text-field",{attrs:{label:"热量",type:"number",suffix:"千卡"},model:{value:e.food.calories,callback:function(t){e.$set(e.food,"calories",t)},expression:"food.calories"}})],1),e.history.length?[i("v-divider"),i("v-card-actions",[i("v-simple-table",{staticClass:"flex-grow-1"},[i("thead",[i("tr",[i("th",[e._v("日期")]),i("th",[e._v("食物")]),i("th",[e._v("千卡")])])]),i("tbody",e._l(e.history.slice(-10).reverse(),(function(t){return i("v-hover",{key:t.time,scopedSlots:e._u([{key:"default",fn:function(r){var n=r.hover;return[i("tr",{style:{cursor:n?"pointer":"auto"},on:{click:function(i){e.confirm("确认消化吗？",(function(){return e.eat(t)}))}}},[i("td",[e._v(e._s(e.formatDate(+t.time)))]),i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s(t.calories))])])]}}],null,!0)})})),1)])],1)]:e._e(),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"error",on:{click:e.reset}},[e._v("重置")])],1)],2),i("v-dialog",{attrs:{width:"300"},model:{value:e.confirming,callback:function(t){e.confirming=t},expression:"confirming"}},[i("v-card",[i("v-card-title",[e._v(e._s(e.confirmMsg))]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"error"},on:{click:function(t){e.confirmCallBack(),e.confirming=!1}}},[e._v("确认")])],1)],1)],1)],1)},o=[],a=(i("4160"),i("d81d"),i("4fad"),i("c1f9"),i("b64b"),i("159b"),i("5530")),c=i("3835"),s=i("5a0c"),l=i.n(s),u=i("cff8"),f=i.n(u),d={weight:0,activityMutiplier:28,dietRatio:0,caloriesSurplus:0,history:[],lastTime:Date.now()};Object.entries(d).forEach((function(e){var t=Object(c["a"])(e,2),i=t[0],r=t[1];return f()(i,r,!1)}));var p={name:"App",data:function(){return Object(a["a"])(Object(a["a"])({},Object.fromEntries(Object.keys(d).map((function(e){return[e,f()(e)]})))),{},{food:{name:"",calories:void 0},confirming:!1,confirmMsg:"",confirmCallBack:function(){}})},computed:{activityDescription:function(e){var t=e.activityMutiplier;return{28:"久坐",30:"偶尔散步",32:"低强度规律运动",34:"每周三次力量训练"}[t]},caloriesDaily:function(e){var t=e.weight,i=e.activityMutiplier,r=e.dietRatio;return t*i*(1-r/100)},caloriesPerSecond:function(e){var t=e.caloriesDaily;return t/24/60/60},bp:function(e){var t=e.$vuetify.breakpoint;return t}},watch:{weight:function(e){return f()("weight",e)},activityMutiplier:function(e){return f()("activityMutiplier",e)},dietRatio:function(e){return f()("dietRatio",e)},history:function(e){return f()("history",e)}},created:function(){this.correctCaloriesSurplus(),this.initTimer()},methods:{correctCaloriesSurplus:function(){var e=this,t=f()("lastTime");this.caloriesSurplus=this.caloriesPerSecond*(Date.now()-t)/1e3,document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(f()("caloriesSurplus",e.caloriesSurplus),f()("lastTime",Date.now()))}))},initTimer:function(){var e=this;setInterval((function(){return e.caloriesSurplus+=e.caloriesPerSecond}),1e3)},eat:function(e){this.caloriesSurplus-=e.calories,this.history.push(Object(a["a"])(Object(a["a"])({},e),{},{time:Date.now()}))},formatDate:function(e){return l()(e).format("YYYY/M/D ha")},confirm:function(e,t){this.confirmMsg=e,this.confirming=!0,this.confirmCallBack=t},reset:function(){this.confirm("确认重置吗？",(function(){return f()(!1)}))}}},v=p,m=i("2877"),b=i("6544"),h=i.n(b),g=i("7496"),y=i("8336"),w=i("b0af"),x=i("99d9"),_=i("169a"),k=i("ce7e"),S=i("ce87"),O=i("1f4f"),j=i("ba0d"),M=i("2fa4"),C=i("8654"),D=Object(m["a"])(v,n,o,!1,null,null,null),V=D.exports;h()(D,{VApp:g["a"],VBtn:y["a"],VCard:w["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VDivider:k["a"],VHover:S["a"],VSimpleTable:O["a"],VSlider:j["a"],VSpacer:M["a"],VTextField:C["a"]});var T=i("9483");Object(T["a"])("".concat("/vue-diet/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var P=i("a584"),A=i("f309");r["a"].use(A["a"]);var R=new A["a"]({});r["a"].use(P["a"],{config:{id:"UA-156897241-1"}}),r["a"].config.productionTip=!1,new r["a"]({vuetify:R,render:function(e){return e(V)}}).$mount("#app")}});
//# sourceMappingURL=app.99ec3fca.js.map