(function(e){function t(t){for(var i,a,c=t[0],l=t[1],s=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],i=!0,c=1;c<r.length;c++){var l=r[c];0!==n[l]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var i={},n={app:0},o=[];function a(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=i,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-diet/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e623"),r("e379"),r("5dc8"),r("37e1");var i=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-card",{staticClass:"mx-auto mt-5",attrs:{width:"400",hover:""}},[r("v-card-title",{staticClass:"pb-0"},[r("h2",[e._v("数据表")])]),r("v-card-text",[r("v-text-field",{attrs:{label:"体重","prepend-icon":"mdi-nature-people",type:"number",suffix:"kg"},model:{value:e.weight,callback:function(t){e.weight=t},expression:"weight"}}),r("v-slider",{attrs:{"prepend-icon":"mdi-human-handsup",min:"28",max:"34",step:2,label:"运动系数: "+e.activityMutiplier,"inverse-label":"","thumb-label":"",ticks:"always",hint:e.activityDescription,"persistent-hint":""},model:{value:e.activityMutiplier,callback:function(t){e.activityMutiplier=t},expression:"activityMutiplier"}}),r("v-slider",{attrs:{"prepend-icon":"mdi-alien",min:"0",max:"30",label:"减肥速率: "+e.dietRatio+"%","inverse-label":""},model:{value:e.dietRatio,callback:function(t){e.dietRatio=t},expression:"dietRatio"}}),r("div",[e._v("每日可摄取："+e._s(e.caloriesDaily.toFixed())+" kcal")]),r("div",[e._v(" 热量盈余："),r("span",{class:e.caloriesSurplus>0?"green--text":"red--text"},[e._v(e._s(e.caloriesSurplus.toFixed(2))+" kcal")])])],1),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{disabled:!e.food.name||!e.food.calories},on:{click:function(t){return e.eat(e.food)}}},[e._v("摄入")]),r("v-text-field",{staticClass:"ml-2",attrs:{"prepend-inner-icon":"mdi-baguette",label:"食物"},model:{value:e.food.name,callback:function(t){e.$set(e.food,"name",t)},expression:"food.name"}}),r("v-text-field",{attrs:{label:"热量",type:"number",suffix:"kcal"},model:{value:e.food.calories,callback:function(t){e.$set(e.food,"calories",t)},expression:"food.calories"}})],1),e.history.length?[r("v-divider"),r("v-card-actions",[r("v-simple-table",[r("tbody",e._l(e.history.slice(-10).reverse(),(function(t){return r("tr",{key:t.time,on:{click:function(r){return e.eat(t)}}},[r("td",[e._v(e._s(new Date(+t.time).toLocaleString()))]),r("td",[e._v(e._s(t.name))]),r("td",[e._v(e._s(t.calories)+" kcal")])])})),0)])],1)]:e._e()],2)],1)},o=[],a=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),c=r("3835");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={get:function(e,t){return JSON.parse(localStorage.getItem(e))||t},set:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},d={name:"App",data:function(){return{weight:u.get("weight",0),activityMutiplier:u.get("activityMutiplier",28),dietRatio:u.get("dietRatio",0),caloriesSurplus:0,food:u.get("food",{name:"",calories:void 0}),history:u.get("history",[])}},computed:{activityDescription:function(e){var t=e.activityMutiplier;return{28:"久坐",30:"偶尔散步",32:"低强度规律运动",34:"每周三次力量训练"}[t]},caloriesDaily:function(e){var t=e.weight,r=e.activityMutiplier,i=e.dietRatio;return t*r*(1-i/100)},caloriesPerSecond:function(e){var t=e.caloriesDaily;return t/24/60/60}},watch:{weight:function(e){return u.set("weight",e)},activityMutiplier:function(e){return u.set("activityMutiplier",e)},dietRatio:function(e){return u.set("dietRatio",e)},history:function(e){return u.set("history",e)}},created:function(){this.resetCaloriesSurplus(),this.initTimer()},beforeDestroy:function(){u.set("caloriesSurplus",[Date.now(),this.caloriesSurplus])},methods:{resetCaloriesSurplus:function(){var e=this,t=u.get("caloriesSurplus",[]),r=Object(c["a"])(t,2),i=r[0],n=void 0===i?Date.now():i,o=r[1],a=void 0===o?0:o;this.caloriesSurplus=a+this.caloriesPerSecond*(Date.now()-n)/1e3,document.addEventListener("pagehide",(function(){u.set("caloriesSurplus",[Date.now(),e.caloriesSurplus])}))},initTimer:function(){var e=this;setInterval((function(){return e.caloriesSurplus+=e.caloriesPerSecond}),1e3)},eat:function(e){this.caloriesSurplus-=e.calories,this.history.push(s({},e,{time:Date.now()}))}}},p=d,f=r("2877"),v=r("6544"),b=r.n(v),h=r("7496"),g=r("8336"),y=r("b0af"),m=r("99d9"),w=r("ce7e"),O=r("1f4f"),S=r("ba0d"),x=r("8654"),j=Object(f["a"])(p,n,o,!1,null,null,null),k=j.exports;b()(j,{VApp:h["a"],VBtn:g["a"],VCard:y["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VDivider:w["a"],VSimpleTable:O["a"],VSlider:S["a"],VTextField:x["a"]});var _=r("9483");Object(_["a"])("".concat("/vue-diet/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var P=r("2bdd"),D=r.n(P),M=r("f309");i["a"].use(M["a"]);var C=new M["a"]({});i["a"].use(D.a,{config:{id:"UA-156897241-1"}}),i["a"].config.productionTip=!1,new i["a"]({vuetify:C,render:function(e){return e(k)}}).$mount("#app")}});
//# sourceMappingURL=app.a61290f0.js.map